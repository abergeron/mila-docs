

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1 Frequently asked questions (FAQs) &mdash; MILA Docs latest documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="MILA Docs latest documentation" href="../../index.html"/>
        <link rel="up" title="Mila Cluster" href="../index.html"/>
        <link rel="next" title="Cluster Nodes" href="../nodes.html"/>
        <link rel="prev" title="Monitoring" href="../monitoring/index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> MILA Docs
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cluster_intro.html">What is a computer Cluster ?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cluster_intro.html#resources-available-at-mila">Resources Available at Mila</a></li>
</ul>
<p class="caption"><span class="caption-text">The batch scheduler: Slurm</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../slurm/index.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../slurm/index.html#basic-usage">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../slurm/advanced.html">Advanced Usage</a></li>
</ul>
<p class="caption"><span class="caption-text">Computing Clusters</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Mila Cluster</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../monitoring/index.html">Monitoring</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">FAQs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#connection-ssh"><span class="sectnum">1.1</span> Connection/SSH</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#i-m-getting-connection-refused-while-trying-to-connect-to-a-login-node"><span class="sectnum">1.1.1</span> I’m getting <code class="docutils literal notranslate"><span class="pre">connection</span> <span class="pre">refused</span></code> while trying to connect to a login node</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#shell"><span class="sectnum">1.2</span> Shell</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#how-do-i-change-my-shell"><span class="sectnum">1.2.1</span> How do I change my shell</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#slurm"><span class="sectnum">1.3</span> SLURM</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#how-can-i-get-an-interactive-shell-on-the-cluster"><span class="sectnum">1.3.1</span> How can I get an interactive shell on the cluster ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#srun-error-mem-and-mem-per-cpu-are-mutually-exclusive-error"><span class="sectnum">1.3.2</span> <code class="docutils literal notranslate"><span class="pre">srun:</span> <span class="pre">error:</span> <span class="pre">--mem</span> <span class="pre">and</span> <span class="pre">--mem-per-cpu</span> <span class="pre">are</span> <span class="pre">mutually</span> <span class="pre">exclusive</span></code> error ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-can-i-see-where-and-if-my-jobs-are-running"><span class="sectnum">1.3.3</span> How can I see where and if my jobs are running ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unable-to-allocate-resources-invalid-account-or-account-partition-combination-specified"><span class="sectnum">1.3.4</span> <code class="docutils literal notranslate"><span class="pre">Unable</span> <span class="pre">to</span> <span class="pre">allocate</span> <span class="pre">resources:</span> <span class="pre">Invalid</span> <span class="pre">account</span> <span class="pre">or</span> <span class="pre">account/partition</span> <span class="pre">combination</span> <span class="pre">specified</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-do-i-cancel-a-job"><span class="sectnum">1.3.5</span> How do I cancel a job?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-can-access-a-node-on-which-one-of-my-job-is-running"><span class="sectnum">1.3.6</span> How can access a node on which one of my job is running ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#i-m-getting-permission-denied-publickey-while-trying-to-connect-to-a-node"><span class="sectnum">1.3.7</span> I’m getting <code class="docutils literal notranslate"><span class="pre">Permission</span> <span class="pre">denied</span> <span class="pre">(publickey)</span></code> while trying to connect to a node ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#where-do-i-put-my-data-during-a-job"><span class="sectnum">1.3.8</span> Where do I put my data during a job ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#i-am-getting-the-following-error-slurmstepd-error-detected-1-oom-kill-event-s-in-step-batch-cgroup"><span class="sectnum">1.3.9</span> I am getting the following error <code class="docutils literal notranslate"><span class="pre">slurmstepd:</span> <span class="pre">error:</span> <span class="pre">Detected</span> <span class="pre">1</span> <span class="pre">oom-kill</span> <span class="pre">event(s)</span> <span class="pre">in</span> <span class="pre">step</span> <span class="pre">#####.batch</span> <span class="pre">cgroup.</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#i-am-getting-the-following-error-fork-retry-resource-temporarily-unavailable"><span class="sectnum">1.3.10</span> I am getting the following error <code class="docutils literal notranslate"><span class="pre">fork:</span> <span class="pre">retry:</span> <span class="pre">Resource</span> <span class="pre">temporarily</span> <span class="pre">unavailable</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../nodes.html">Cluster Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#account-creation">Account Creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#login">Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#launching-jobs">Launching Jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#modules">Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#storage">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#script-example">Script Example</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../compute-canada-cluster/index.html">Compute Canada Clusters</a></li>
</ul>
<p class="caption"><span class="caption-text">Software</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../software/index.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software/python.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../software/tools.html">Tools</a></li>
</ul>
<p class="caption"><span class="caption-text">Containers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../docker/index.html">Docker/Shifter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../singularity/index.html">Singularity</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MILA Docs</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Mila Cluster</a> &raquo;</li>
        
      <li><span class="sectnum">1</span> Frequently asked questions (FAQs)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/mila-iqia/mila-docs/blob/master/docs/mila-cluster/faq/index.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="frequently-asked-questions-faqs">
<h1><span class="sectnum">1</span> Frequently asked questions (FAQs)<a class="headerlink" href="#frequently-asked-questions-faqs" title="Permalink to this headline">¶</a></h1>
<div class="section" id="connection-ssh">
<h2><span class="sectnum">1.1</span> Connection/SSH<a class="headerlink" href="#connection-ssh" title="Permalink to this headline">¶</a></h2>
<div class="section" id="i-m-getting-connection-refused-while-trying-to-connect-to-a-login-node">
<h3><span class="sectnum">1.1.1</span> I’m getting <code class="docutils literal notranslate"><span class="pre">connection</span> <span class="pre">refused</span></code> while trying to connect to a login node<a class="headerlink" href="#i-m-getting-connection-refused-while-trying-to-connect-to-a-login-node" title="Permalink to this headline">¶</a></h3>
<p>Login nodes are protected against brute force attacks and might ban your IP if it detects too many connections/failures.
You can try to unban yourself by using the following web page: <a class="reference external" href="https://unban.server.mila.quebec/">https://unban.server.mila.quebec/</a></p>
</div>
</div>
<div class="section" id="shell">
<h2><span class="sectnum">1.2</span> Shell<a class="headerlink" href="#shell" title="Permalink to this headline">¶</a></h2>
<div class="section" id="how-do-i-change-my-shell">
<h3><span class="sectnum">1.2.1</span> How do I change my shell<a class="headerlink" href="#how-do-i-change-my-shell" title="Permalink to this headline">¶</a></h3>
<p>By default you will be assigned <code class="docutils literal notranslate"><span class="pre">/bin/bash</span></code> as a shell. If you would like to change for
another one, please submit a support ticket.</p>
</div>
</div>
<div class="section" id="slurm">
<h2><span class="sectnum">1.3</span> SLURM<a class="headerlink" href="#slurm" title="Permalink to this headline">¶</a></h2>
<div class="section" id="how-can-i-get-an-interactive-shell-on-the-cluster">
<h3><span class="sectnum">1.3.1</span> How can I get an interactive shell on the cluster ?<a class="headerlink" href="#how-can-i-get-an-interactive-shell-on-the-cluster" title="Permalink to this headline">¶</a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">salloc</span> <span class="pre">[--slurm_options]</span></code> without any executable at the end of the command, this will launch your
default shell on an interactive session. Remember that an interactive session is bound to the login node where
you start it so you could risk loosing your job if the login node becomes unreachable.</p>
</div>
<div class="section" id="srun-error-mem-and-mem-per-cpu-are-mutually-exclusive-error">
<h3><span class="sectnum">1.3.2</span> <code class="docutils literal notranslate"><span class="pre">srun:</span> <span class="pre">error:</span> <span class="pre">--mem</span> <span class="pre">and</span> <span class="pre">--mem-per-cpu</span> <span class="pre">are</span> <span class="pre">mutually</span> <span class="pre">exclusive</span></code> error ?<a class="headerlink" href="#srun-error-mem-and-mem-per-cpu-are-mutually-exclusive-error" title="Permalink to this headline">¶</a></h3>
<p>You can safely ignore this, <code class="docutils literal notranslate"><span class="pre">salloc</span></code> has a default memory flag in case you don’t provide one.</p>
</div>
<div class="section" id="how-can-i-see-where-and-if-my-jobs-are-running">
<h3><span class="sectnum">1.3.3</span> How can I see where and if my jobs are running ?<a class="headerlink" href="#how-can-i-see-where-and-if-my-jobs-are-running" title="Permalink to this headline">¶</a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">squeue</span> <span class="pre">-u</span> <span class="pre">YOUR_USERNAME</span></code> to see all your job status and locations.
To get more info on a running job, try <code class="docutils literal notranslate"><span class="pre">scontrol</span> <span class="pre">show</span> <span class="pre">job</span> <span class="pre">#JOBID</span></code></p>
</div>
<div class="section" id="unable-to-allocate-resources-invalid-account-or-account-partition-combination-specified">
<h3><span class="sectnum">1.3.4</span> <code class="docutils literal notranslate"><span class="pre">Unable</span> <span class="pre">to</span> <span class="pre">allocate</span> <span class="pre">resources:</span> <span class="pre">Invalid</span> <span class="pre">account</span> <span class="pre">or</span> <span class="pre">account/partition</span> <span class="pre">combination</span> <span class="pre">specified</span></code><a class="headerlink" href="#unable-to-allocate-resources-invalid-account-or-account-partition-combination-specified" title="Permalink to this headline">¶</a></h3>
<p>Chances are your account is not setup properly. You should file a ticket in our helpdesk: <a class="reference external" href="https://it-support.mila.quebec/">https://it-support.mila.quebec/</a> .</p>
</div>
<div class="section" id="how-do-i-cancel-a-job">
<h3><span class="sectnum">1.3.5</span> How do I cancel a job?<a class="headerlink" href="#how-do-i-cancel-a-job" title="Permalink to this headline">¶</a></h3>
<p>Use the <code class="docutils literal notranslate"><span class="pre">scancel</span> <span class="pre">#JOBID</span></code> command with the job ID of the job you want cancelled. In the case you want
to cancel all your jobs, type <code class="docutils literal notranslate"><span class="pre">scancel</span> <span class="pre">-u</span> <span class="pre">YOUR_USERNAME</span></code>. You can also cancel all your pending jobs for
instance with <code class="docutils literal notranslate"><span class="pre">scancel</span> <span class="pre">-t</span> <span class="pre">PD</span></code>.</p>
</div>
<div class="section" id="how-can-access-a-node-on-which-one-of-my-job-is-running">
<h3><span class="sectnum">1.3.6</span> How can access a node on which one of my job is running ?<a class="headerlink" href="#how-can-access-a-node-on-which-one-of-my-job-is-running" title="Permalink to this headline">¶</a></h3>
<p>You can ssh into a node on which you have a job running, your ssh connection will be adopted by your job, i.e.
if your job finishes your ssh connection will be automatically terminated. In order to connect to a node, you need to
have password-less ssh either with a key present in your home or with an <code class="docutils literal notranslate"><span class="pre">ssh-agent</span></code>. You can generate a key on the
login node for password-less like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><style type="text/css">
span.prompt1:before {
  content: "$ ";
}
</style><span class="prompt1">ssh-keygen <span class="o">(</span>3xENTER<span class="o">)</span></span>
<span class="prompt1">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span>
<span class="prompt1">chmod <span class="m">600</span> ~/.ssh/authorized_keys</span>
<span class="prompt1">chmod <span class="m">700</span> ~/.ssh</span>
</pre></div></div></div>
<div class="section" id="i-m-getting-permission-denied-publickey-while-trying-to-connect-to-a-node">
<h3><span class="sectnum">1.3.7</span> I’m getting <code class="docutils literal notranslate"><span class="pre">Permission</span> <span class="pre">denied</span> <span class="pre">(publickey)</span></code> while trying to connect to a node ?<a class="headerlink" href="#i-m-getting-permission-denied-publickey-while-trying-to-connect-to-a-node" title="Permalink to this headline">¶</a></h3>
<p>See previous question</p>
</div>
<div class="section" id="where-do-i-put-my-data-during-a-job">
<h3><span class="sectnum">1.3.8</span> Where do I put my data during a job ?<a class="headerlink" href="#where-do-i-put-my-data-during-a-job" title="Permalink to this headline">¶</a></h3>
<p>Your <code class="docutils literal notranslate"><span class="pre">/home</span></code> as well as the datasets are on shared file-systems, it is recommended to copy them to the <code class="docutils literal notranslate"><span class="pre">$SLURM_TMPDIR</span></code>
to better process them and leverage higher-speed local drives. If you run a low priority job subject to preemption, it’s better
to keep any output you want to keep on the shared file systems because the <code class="docutils literal notranslate"><span class="pre">$SLURM_TMPDIR</span></code> is deleted at the end of each job.</p>
</div>
<div class="section" id="i-am-getting-the-following-error-slurmstepd-error-detected-1-oom-kill-event-s-in-step-batch-cgroup">
<h3><span class="sectnum">1.3.9</span> I am getting the following error <code class="docutils literal notranslate"><span class="pre">slurmstepd:</span> <span class="pre">error:</span> <span class="pre">Detected</span> <span class="pre">1</span> <span class="pre">oom-kill</span> <span class="pre">event(s)</span> <span class="pre">in</span> <span class="pre">step</span> <span class="pre">#####.batch</span> <span class="pre">cgroup.</span></code><a class="headerlink" href="#i-am-getting-the-following-error-slurmstepd-error-detected-1-oom-kill-event-s-in-step-batch-cgroup" title="Permalink to this headline">¶</a></h3>
<p>You exceeded the amount of memory allocated to your job, either you did not request enough memory or you have a
memory leak in your process. Try increasing the amount of memory requested with <code class="docutils literal notranslate"><span class="pre">--mem=</span></code> or <code class="docutils literal notranslate"><span class="pre">--mem-per-cpu=</span></code>.</p>
</div>
<div class="section" id="i-am-getting-the-following-error-fork-retry-resource-temporarily-unavailable">
<h3><span class="sectnum">1.3.10</span> I am getting the following error <code class="docutils literal notranslate"><span class="pre">fork:</span> <span class="pre">retry:</span> <span class="pre">Resource</span> <span class="pre">temporarily</span> <span class="pre">unavailable</span></code><a class="headerlink" href="#i-am-getting-the-following-error-fork-retry-resource-temporarily-unavailable" title="Permalink to this headline">¶</a></h3>
<p>You exceeded the limit of 2000 tasks/PIDs in your job, it probably means there is an issue
with a sub-process spawning too many processes
in your script. For any help with your software, please contact the helpdesk.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../nodes.html" class="btn btn-neutral float-right" title="Cluster Nodes" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../monitoring/index.html" class="btn btn-neutral" title="Monitoring" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> and ❤️  using a custom <a href="https://github.com/LinxiFan/Sphinx-theme">theme</a> based on <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'latest',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/language_data.js"></script>
      <script type="text/javascript" src="../../_static/clipboard.min.js"></script>
      <script type="text/javascript" src="../../_static/copybutton.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../_static/documentation_options_fix.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>